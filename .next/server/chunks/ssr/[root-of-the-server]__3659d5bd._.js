module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},96438,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({children:a,variant:d="primary",size:e="md",isLoading:f,className:g,disabled:h,...i}){return(0,b.jsx)("button",{className:(0,c.classNames)("inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-[var(--primary)] text-white hover:bg-[var(--primary-hover)] focus:ring-[var(--primary)]",secondary:"bg-[var(--secondary)] text-[var(--foreground)] hover:opacity-80 focus:ring-[var(--secondary)]",outline:"border-2 border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--secondary)] focus:ring-[var(--primary)]",ghost:"text-[var(--foreground)] hover:bg-[var(--secondary)] focus:ring-[var(--primary)]"}[d],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[e],g),disabled:h||f,...i,children:f?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4\\",fill:"none\\",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75\\",fill:"currentColor\\",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):a})}a.s(["Button",()=>d])},94988,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=(0,c.forwardRef)(({label:a,error:c,className:e,...f},g)=>(0,b.jsxs)("div",{className:"w-full",children:[a&&(0,b.jsx)("label",{className:"block text-sm font-medium mb-1 text-[var(--foreground)]",children:a}),(0,b.jsx)("input",{ref:g,className:(0,d.classNames)("w-full px-4 py-2 rounded-lg border bg-[var(--background)] text-[var(--foreground)]","focus:outline-none focus:ring-2 focus:ring-[var(--primary)] focus:border-transparent","placeholder:text-[var(--muted)]",c&&"border-[var(--error)]",e),...f}),c&&(0,b.jsx)("p",{className:"mt-1 text-sm text-[var(--error)]",children:c})]}));e.displayName="Input",a.s(["Input",0,e])},94894,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(35911),f=a.i(11642),g=a.i(4594),h=a.i(68114),i=a.i(96438),j=a.i(94988);function k(){let a=(0,d.useRouter)(),{items:k,total:l,clearCart:m}=(0,e.useCart)(),{user:n,addOrder:o}=(0,f.useAuth)(),{showToast:p}=(0,g.useToast)(),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)({postalCode:"",prefecture:"",city:"",line1:"",line2:""}),u=l>=1e4?0:500,v=l+u,w=async b=>{b.preventDefault(),r(!0),await new Promise(a=>setTimeout(a,1500));let c=o({items:[...k],total:v,shippingAddress:s,status:"confirmed"});m(),p("ご注文ありがとうございます!","success"),a.push(`/orders?new=${c.id}`),r(!1)};return(0,b.jsxs)("form",{onSubmit:w,className:"space-y-8",children:[(0,b.jsxs)("div",{className:"bg-[var(--card)] rounded-2xl border p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-bold mb-6",children:"配送先住所"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)(j.Input,{label:"郵便番号",value:s.postalCode,onChange:a=>t({...s,postalCode:a.target.value}),placeholder:"123-4567",required:!0}),(0,b.jsx)(j.Input,{label:"都道府県",value:s.prefecture,onChange:a=>t({...s,prefecture:a.target.value}),placeholder:"東京都",required:!0}),(0,b.jsx)(j.Input,{label:"市区町村",value:s.city,onChange:a=>t({...s,city:a.target.value}),placeholder:"渋谷区",required:!0,className:"md:col-span-2"}),(0,b.jsx)(j.Input,{label:"番地・建物名",value:s.line1,onChange:a=>t({...s,line1:a.target.value}),placeholder:"1-2-3 サンプルビル 101",required:!0,className:"md:col-span-2"})]})]}),(0,b.jsxs)("div",{className:"bg-[var(--card)] rounded-2xl border p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-bold mb-6",children:"注文内容"}),(0,b.jsxs)("div",{className:"space-y-4",children:[k.map(a=>(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{children:[a.product.name," x ",a.quantity]}),(0,b.jsx)("span",{children:(0,h.formatPrice)(a.product.price*a.quantity)})]},a.product.id)),(0,b.jsxs)("div",{className:"border-t pt-4 space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-[var(--muted)]",children:"小計"}),(0,b.jsx)("span",{children:(0,h.formatPrice)(l)})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-[var(--muted)]",children:"送料"}),(0,b.jsx)("span",{children:0===u?"無料":(0,h.formatPrice)(u)})]}),(0,b.jsxs)("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[(0,b.jsx)("span",{children:"合計"}),(0,b.jsx)("span",{className:"text-[var(--primary)]",children:(0,h.formatPrice)(v)})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-[var(--card)] rounded-2xl border p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-bold mb-6",children:"お支払い方法"}),(0,b.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-[var(--secondary)] rounded-lg",children:[(0,b.jsx)("input",{type:"radio",id:"card",name:"payment",defaultChecked:!0,className:"w-4 h-4"}),(0,b.jsxs)("label",{htmlFor:"card",className:"flex-1",children:[(0,b.jsx)("span",{className:"font-medium",children:"クレジットカード（デモ）"}),(0,b.jsx)("p",{className:"text-sm text-[var(--muted)]",children:"注文ボタンを押すと注文が確定します"})]})]})]}),(0,b.jsx)(i.Button,{type:"submit",size:"lg",className:"w-full",isLoading:q,children:"注文を確定する"})]})}function l(){let a=(0,d.useRouter)(),{items:g}=(0,e.useCart)(),{user:h,isLoading:i}=(0,f.useAuth)();return((0,c.useEffect)(()=>{i||h||a.push("/auth/login?redirect=/checkout")},[h,i,a]),(0,c.useEffect)(()=>{0===g.length&&a.push("/cart")},[g,a]),i||!h||0===g.length)?(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-16 text-center",children:(0,b.jsx)("p",{className:"text-[var(--muted)]",children:"読み込み中..."})}):(0,b.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"チェックアウト"}),(0,b.jsx)(k,{})]})}a.s(["default",()=>l],94894)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__3659d5bd._.js.map