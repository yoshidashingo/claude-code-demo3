(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,59544,e=>{"use strict";var s=e.i(43476),r=e.i(75157);function a({children:e,variant:a="primary",size:t="md",isLoading:l,className:i,disabled:c,...n}){return(0,s.jsx)("button",{className:(0,r.classNames)("inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-[var(--primary)] text-white hover:bg-[var(--primary-hover)] focus:ring-[var(--primary)]",secondary:"bg-[var(--secondary)] text-[var(--foreground)] hover:opacity-80 focus:ring-[var(--secondary)]",outline:"border-2 border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--secondary)] focus:ring-[var(--primary)]",ghost:"text-[var(--foreground)] hover:bg-[var(--secondary)] focus:ring-[var(--primary)]"}[a],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[t],i),disabled:c||l,...n,children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4\\",fill:"none\\",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75\\",fill:"currentColor\\",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):e})}e.s(["Button",()=>a])},18566,(e,s,r)=>{s.exports=e.r(76562)},3812,e=>{"use strict";var s=e.i(43476),r=e.i(71645),a=e.i(75157);let t=(0,r.forwardRef)(({label:e,error:r,className:t,...l},i)=>(0,s.jsxs)("div",{className:"w-full",children:[e&&(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 text-[var(--foreground)]",children:e}),(0,s.jsx)("input",{ref:i,className:(0,a.classNames)("w-full px-4 py-2 rounded-lg border bg-[var(--background)] text-[var(--foreground)]","focus:outline-none focus:ring-2 focus:ring-[var(--primary)] focus:border-transparent","placeholder:text-[var(--muted)]",r&&"border-[var(--error)]",t),...l}),r&&(0,s.jsx)("p",{className:"mt-1 text-sm text-[var(--error)]",children:r})]}));t.displayName="Input",e.s(["Input",0,t])},69439,e=>{"use strict";var s=e.i(43476),r=e.i(71645),a=e.i(18566),t=e.i(75144),l=e.i(98348),i=e.i(27587),c=e.i(75157),n=e.i(59544),d=e.i(3812);function o(){let e=(0,a.useRouter)(),{items:o,total:u,clearCart:m}=(0,t.useCart)(),{user:x,addOrder:p}=(0,l.useAuth)(),{showToast:h}=(0,i.useToast)(),[f,v]=(0,r.useState)(!1),[g,b]=(0,r.useState)({postalCode:"",prefecture:"",city:"",line1:"",line2:""}),j=u>=1e4?0:500,y=u+j,N=async s=>{s.preventDefault(),v(!0),await new Promise(e=>setTimeout(e,1500));let r=p({items:[...o],total:y,shippingAddress:g,status:"confirmed"});m(),h("ご注文ありがとうございます!","success"),e.push(`/orders?new=${r.id}`),v(!1)};return(0,s.jsxs)("form",{onSubmit:N,className:"space-y-8",children:[(0,s.jsxs)("div",{className:"bg-[var(--card)] rounded-2xl border p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-bold mb-6",children:"配送先住所"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(d.Input,{label:"郵便番号",value:g.postalCode,onChange:e=>b({...g,postalCode:e.target.value}),placeholder:"123-4567",required:!0}),(0,s.jsx)(d.Input,{label:"都道府県",value:g.prefecture,onChange:e=>b({...g,prefecture:e.target.value}),placeholder:"東京都",required:!0}),(0,s.jsx)(d.Input,{label:"市区町村",value:g.city,onChange:e=>b({...g,city:e.target.value}),placeholder:"渋谷区",required:!0,className:"md:col-span-2"}),(0,s.jsx)(d.Input,{label:"番地・建物名",value:g.line1,onChange:e=>b({...g,line1:e.target.value}),placeholder:"1-2-3 サンプルビル 101",required:!0,className:"md:col-span-2"})]})]}),(0,s.jsxs)("div",{className:"bg-[var(--card)] rounded-2xl border p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-bold mb-6",children:"注文内容"}),(0,s.jsxs)("div",{className:"space-y-4",children:[o.map(e=>(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsxs)("span",{children:[e.product.name," x ",e.quantity]}),(0,s.jsx)("span",{children:(0,c.formatPrice)(e.product.price*e.quantity)})]},e.product.id)),(0,s.jsxs)("div",{className:"border-t pt-4 space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-[var(--muted)]",children:"小計"}),(0,s.jsx)("span",{children:(0,c.formatPrice)(u)})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-[var(--muted)]",children:"送料"}),(0,s.jsx)("span",{children:0===j?"無料":(0,c.formatPrice)(j)})]}),(0,s.jsxs)("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[(0,s.jsx)("span",{children:"合計"}),(0,s.jsx)("span",{className:"text-[var(--primary)]",children:(0,c.formatPrice)(y)})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-[var(--card)] rounded-2xl border p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-bold mb-6",children:"お支払い方法"}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-[var(--secondary)] rounded-lg",children:[(0,s.jsx)("input",{type:"radio",id:"card",name:"payment",defaultChecked:!0,className:"w-4 h-4"}),(0,s.jsxs)("label",{htmlFor:"card",className:"flex-1",children:[(0,s.jsx)("span",{className:"font-medium",children:"クレジットカード（デモ）"}),(0,s.jsx)("p",{className:"text-sm text-[var(--muted)]",children:"注文ボタンを押すと注文が確定します"})]})]})]}),(0,s.jsx)(n.Button,{type:"submit",size:"lg",className:"w-full",isLoading:f,children:"注文を確定する"})]})}function u(){let e=(0,a.useRouter)(),{items:i}=(0,t.useCart)(),{user:c,isLoading:n}=(0,l.useAuth)();return((0,r.useEffect)(()=>{n||c||e.push("/auth/login?redirect=/checkout")},[c,n,e]),(0,r.useEffect)(()=>{0===i.length&&e.push("/cart")},[i,e]),n||!c||0===i.length)?(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-16 text-center",children:(0,s.jsx)("p",{className:"text-[var(--muted)]",children:"読み込み中..."})}):(0,s.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"チェックアウト"}),(0,s.jsx)(o,{})]})}e.s(["default",()=>u],69439)}]);